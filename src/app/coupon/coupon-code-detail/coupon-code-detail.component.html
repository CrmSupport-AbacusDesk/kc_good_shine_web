<div class="main-container" >
  <div class="tools-container">
    <a mat-icon-button  matTooltip="Back" (click)="back()">
      <i class="material-icons">arrow_back</i>
    </a>
    <h2>Coupon Detail</h2>
  </div>
  
  <div class="container pt10 pl10 pr10 pb50" >
    
    <!-- hidden -->
    <div class="card card-statistics" style="width: 50%;margin-left: 250px;" hidden>
      
      <div id="print_card" >
        
        <div  id='qr_code_container' *ngFor="let row of qrCode">
          <div style="padding:0px;height: 302.36220472px;width: 302.36220472px; border-radius: 10px;margin: 0 auto;display: flex;background-color: #fff; position: relative; overflow: hidden;">
            <div style="width: 250px; position: relative; z-index: 2; background: rgba(0, 0, 0, 0.010);">
              <h5 style="font-family: 'Roboto', sans-serif;border-bottom: 1px solid #000;font-size: 14px;margin: 0;margin-bottom: 3px;padding-bottom: 3px; z-index: 99; position: relative;">
                <span style="display:block;font-family: 'Roboto', sans-serif;margin: 0;margin-top: 10px;">{{getData.product_detail}}
                  <span style="display:inline-block;font-family: 'Roboto', sans-serif;font-size: 10px;margin: 0;">{{getData.sku_code}}</span>
                  <span  *ngIf="getData.hardner_code" style="display:block;font-family: 'Roboto', sans-serif;font-size: 10px;margin: 0;">{{getData.hardner_code}} {{getData.hardner_qty}}</span>
                  <span  *ngIf="getData.remarks" style="display:block;font-family: 'Roboto', sans-serif;font-size: 10px;margin: 0;">{{getData.remarks}}</span>
                </span>
              </h5>
              <p style="font-family: 'Roboto', sans-serif;margin: 0;font-size: 8px;"></p>
              <h4 style="font-family: 'Roboto', sans-serif;border-bottom: 1px solid #000;font-size: 12px;margin: 0;margin-bottom: 3px;padding-bottom: 3px;font-weight:600">MRP &#8377;  {{row.product_mrp == 0  ? '': row.product_mrp }} <span style="font-size: 12px">(Inclusive of all Taxes)</span></h4>
              <p style="font-family: 'Roboto', sans-serif;margin: 0;font-size: 12px;font-weight:700">Net Content  <span style="font-size: 15px;">{{row.product_qty | titlecase}} {{row.ltrs ? '(' +row.ltrs + ')' : '' }}</span>
              </p>
              <p *ngIf="getData.qr_remark != ''" style="font-family: 'Roboto', sans-serif;font-size: 10px;margin:0">{{getData.qr_remark}}</p>
              <p style="font-family: 'Roboto', sans-serif;font-size: 9px;margin:0">Date of pkg. {{getData.date_created | date:'d MMM y'}}</p>
              <p style="font-family: 'Roboto', sans-serif;font-size: 9px;margin:0;">Batch No. {{getData.batch_no}}</p>
              <span style="margin: 0;font-size: 9px;font-weight: 400;">Item Code: {{row.coupon_code}}</span>
              <div style="  position: absolute;  bottom: 40px;">
                <ng-container *ngIf="getData.product_source == 'Imported'">
                  <p style="font-family: 'Roboto', sans-serif;font-size: 9px; font-weight:bold; margin:0;margin-top: -5px;">COUNTRY OF ORIGIN ITALY</p>
                  <p style="font-family: 'Roboto', sans-serif;font-size: 9px; font-weight:bold; margin:0;">Imported Packed and Marketed by</p>
                </ng-container>
                
              <div style="position: absolute; bottom: 93px;">
               <p style="font-family: 'Roboto', sans-serif;font-size: 12px;font-weight:bold; margin:0;">Shake well before use</p>
               <p style="font-family: 'Roboto', sans-serif;font-size: 12px;font-weight:bold; margin:0;">To be mixed in specified ratio</p>
              </div>
                 <!-- *ngIf="getData.product_source == 'Manufactured'" -->
                <ng-container>
                  <p style="font-family: 'Roboto', sans-serif;font-size: 12px; font-weight:bold; margin:0;">Manufactured By</p>
                </ng-container>
                <h2 style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">KC GOOD SHINE</h2>
               <h2 style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">KRISHNA CHEMICAL</h2>
               <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Sector 46, Sonipat, Haryana 131029</p>
               <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Customer Care No:+91-9717143939</p>
                <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Email- inquiry@goodshine.in</p>
                <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Web- www.goodshine.in</p>
              </div>
            </div>
            <div style="text-align: right">
              
              <div class="bar-code-img" style="overflow: hidden;" *ngIf="getData.coupon_type == 'Master Box' ">
                <ngx-barcode [bc-value]="row.coupon_code" [bc-display-value]="true"></ngx-barcode>
              </div>
            <span *ngIf="getData.coupon_type == 'Master Box' " style="margin: 0;font-size: 12px;font-weight: 400;display: block;text-align: center;">{{row.coupon_code}}</span>

              <div class="qr-img" style="width: 105px;overflow: hidden;height: 105px;"  *ngIf="getData.coupon_type == 'Item Box' ">
                <ngx-qrcode 
                [elementType]="elementType" 
                value="{{row.coupon_code}}"
                cssClass="aclass"
                errorCorrectionLevel="L">
              </ngx-qrcode>
            </div>
            <span *ngIf="getData.coupon_type == 'Item Box' " style="margin: 0;font-size: 12px;font-weight: 400;display: block;text-align: center;">{{row.coupon_code}}</span>
            <!-- <span style="font-family: 'Roboto', sans-serif;font-size: 12px;margin-left:-50px;">Shake well before use</span> -->

          </div>
          
        </div>

        <div style="padding:0px;height: 302.36220472px;width: 302.36220472px; border-radius: 10px;margin: 0 auto;display: flex;background-color: #fff; position: relative;" *ngFor="let subRow of row.itembox">
          <div style="width: 250px;">
            <h5 style="font-family: 'Roboto', sans-serif;border-bottom: 1px solid #000;font-size: 14px;margin: 0;margin-bottom: 3px;padding-bottom: 3px;">
              <span style="display:block;font-family: 'Roboto', sans-serif;margin: 0;margin-top: 10px;">{{getData.product_detail}}</span>
              <span  *ngIf="getData.remarks" style="display:block;font-family: 'Roboto', sans-serif;font-size: 10px;margin: 0;">{{getData.remarks}}</span>
              
            </h5>
            <p style="font-family: 'Roboto', sans-serif;margin: 0;font-size: 8px;"></p>
            <h4 style="font-family: 'Roboto', sans-serif;border-bottom: 1px solid #000;font-size: 12px;margin: 0;margin-bottom: 3px;padding-bottom: 3px;font-weight:600">MRP  &#8377;  {{subRow.product_mrp == 0  ? '': subRow.product_mrp }} <span style="font-size: 12px">(Inclusive of all Taxes)</span></h4>
            <p style="font-family: 'Roboto', sans-serif;margin: 0;font-size: 12px;font-weight:700">Net Content <span style="font-size: 15px;">{{subRow.product_qty | titlecase}} {{subRow.ltrs ? '(' +subRow.ltrs + ')' : '' }}</span>
            </p>
            <p *ngIf="getData.qr_remark != ''" style="font-family: 'Roboto', sans-serif;font-size: 10px;margin:0">{{getData.qr_remark}}</p>
            <p style="font-family: 'Roboto', sans-serif;font-size: 9px;margin:0">Date of pkg. {{getData.date_created | date:'d MMM y'}}</p>
            <p style="font-family: 'Roboto', sans-serif;font-size: 9px;margin:0;">Batch No. {{getData.batch_no}}</p>
            <span style="margin: 0;font-size: 9px;font-weight: 400;">Item Code: {{subRow.coupon_code}}</span>
            
            
            <div style="  position: absolute;  bottom: 40px;">
              <ng-container *ngIf="getData.product_source == 'Imported'">
                <p style="font-family: 'Roboto', sans-serif;font-size: 9px; font-weight:bold; margin:0;">COUNTRY OF ORIGIN ITALY</p>
                <p style="font-family: 'Roboto', sans-serif;font-size: 9px; font-weight:bold; margin:0;">Imported Packed and Marketed by</p>
              </ng-container>
                
              <div style="position: absolute; bottom: 93px;">
                <p style="font-family: 'Roboto', sans-serif;font-size: 12px;font-weight:bold; margin:0;">Shake well before use</p>
                <p style="font-family: 'Roboto', sans-serif;font-size: 12px;font-weight:bold; margin:0;">To be mixed in specified ratio</p>
               </div>
              <!-- *ngIf="getData.product_source == 'Manufactured'" -->
              <ng-container>
                <p style="font-family: 'Roboto', sans-serif;font-size: 15px; font-weight:bold; margin:0;">Manufactured By</p>
              </ng-container>

              <h2 style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">KC GOOD SHINE</h2>
              <h2 style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">KRISHNA CHEMICAL</h2>
              <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Sector 46, Sonipat, Haryana 131029</p>
              <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Customer Care No:+91-9717143939</p>
              <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Email- inquiry@goodshine.in</p>
              <p style="font-family: 'Roboto', sans-serif;font-size: 8px;margin:0;">Web- www.goodshine.in</p>
              
              
            </div>
            <!-- <p style="font-family: 'Roboto', sans-serif;font-size: 12px;font-weight: 400;margin:0;">QR Remark {{getData.qr_remark ? getData.qr_remark:"---"}}</p> -->
            
          </div>
          <div style="text-align: right">
            <div class="qr-img" style="width: 105px;overflow: hidden;height: 105px;">
              <ngx-qrcode 
              [elementType]="elementType" 
              value="{{subRow.coupon_code}}"
              cssClass="aclass"
              errorCorrectionLevel="L">
            </ngx-qrcode>
          </div>
          <span style="margin: 0;font-size: 12px;font-weight: 400;display: block;text-align: center;">{{subRow.coupon_code}}</span>
          <!-- <span style="font-family: 'Roboto', sans-serif;font-size: 12px;margin-left:-50px;">Shake well before use</span> -->
          <span style="font-family: 'Roboto', sans-serif;font-size: 10px;    position: absolute; bottom: 20px; width: 50%; right: 0; ">{{getData.qr_remark}} </span>
        </div>
      </div>
      
      
      
      
      
    </div>
    
  </div>
</div>


<div class="row">
  <div class="col s12 m12 l12">
    <div class="card" *ngIf="!skLoading">
      <div class="card-head">
        <h2>Basic Details</h2>
      </div>
      <div class="card-body">
        <div class="grid-box">
          <div class="block-feilds">
            <span>Date Created</span>
            <p>{{getData.date_created | date:'d MMM y'}}</p>
          </div>
          
          <div class="block-feilds">
            <span>Created By</span>
            <p>{{getData.created_by_name}}</p>
          </div>
          
          <div class="block-feilds">
            <span>Master Coupon Count</span>
            <p>{{getData.total_coupon}}</p>
          </div>
          <div class="block-feilds">
            <span>Batch No.</span>
            <p>{{getData.batch_no}}</p>
          </div>
        </div>
        
        
        <div class="grid-box">
          <div class="block-feilds">
            <span>Product Detail</span>
            <p>{{getData.product_detail}}</p>
          </div>
          
          <div class="block-feilds" *ngIf="getData.remarks">
            <span>Remark</span>
            <p>{{getData.remarks}}</p>
          </div>
          <div class="block-feilds">
            <span>Point Category Name</span>
            <p>{{getData.point_category_name ? getData.point_category_name : '---'}}</p>
          </div>

        </div>
      </div>
    </div>
    
    
    <!-- Skeleton start -->
    <div class="card" *ngIf="skLoading">
      <div class="sk-head">
        <h2>&nbsp;</h2>
      </div>
      <div class="card-body">
        <div class="grid-box">
          <div class="sk-box" *ngFor="let row of [].constructor(10)">
            &nbsp;
          </div>
        </div>
      </div>
    </div>
    <!-- Skeleton end -->
  </div>
</div>

<div class="row mb100" *ngIf="!skLoading">
  <div class="col s12 m12 l12 grid-two-box">
    <div class="card" *ngFor="let row of qrCode">
      <div class="card-head">
        <div class="qr-head">
          <h2 class="mb0">{{getData.product_detail}}</h2>
          <h2 class="mb0" >{{getData.sku_code}}  {{getData.remarks ? '('+ getData.remarks + ')' : ''}}</h2>
          <h2  class="mb0" *ngIf="getData.hardner_code">{{getData.hardner_code}} {{getData.hardner_qty}}</h2>
        </div>
      </div>
      <div class="card-body">
        <div  [ngClass]="getData.coupon_type == 'Item Box' ? 'qr-box' : 'bar-code-box'">
          <div class="qr-content">
            <ul>
              <li>
                <p>MRP &#8377; {{row.product_mrp == 0  ? '': row.product_mrp }} (Inclusive of all Taxes)</p>
              </li>
              <li>
                <p>Net Content {{row.product_qty | titlecase}}.</p>
              </li>
              <li>{{getData.qr_remark}}</li>
              <ng-container *ngIf="getData.product_source == 'Imported'">
                <li>COUNTRY OF ORIGIN ITALY</li>
                <li>Imported Packed and Marketed by</li>
              </ng-container>
              <!-- *ngIf="getData.product_source == 'Manufactured'" -->
              <ng-container>
                <li>Manufactured By</li>
              </ng-container>
              <li>KC GOOD SHINE</li>
              <li>KRISHNA CHEMICAL</li>
              <li>Sector 46, Sonipat, Haryana 131029</li>
              <li>Customer Care No:+91-9717143939</li>
              <li>Email- inquiry@goodshine.in</li>
              <li>Web- www.goodshine.in</li>
              
            </ul>
          </div>
          <div class="cs-barcode" *ngIf="getData.coupon_type == 'Master Box' ">
            <ngx-barcode [bc-value]="row.coupon_code" [bc-display-value]="true"></ngx-barcode>
          </div>
          
          <div class="cs-barcode" *ngIf="getData.coupon_type == 'Item Box' ">
            <ngx-qrcode 
            [elementType]="elementType" 
            value="{{row.coupon_code}}"
            cssClass="aclass"
            errorCorrectionLevel="L">
          </ngx-qrcode>
          <span>{{row.coupon_code}}</span>
        </div>
        
      </div>
      <div class="qr-box" *ngFor="let subRow of row.itembox">
        <div class="qr-content">
          <ul>
            <li>
              <p>MRP &#8377; {{subRow.product_mrp == 0  ? '': subRow.product_mrp }} (Inclusive of all Taxes)</p>
            </li>
            <li>
              <p>Net Content {{subRow.product_qty | titlecase}}</p>
            </li>
            <li>{{getData.qr_remark}}</li>
            <ng-container *ngIf="getData.product_source == 'Imported'">
              <li>COUNTRY OF ORIGIN ITALY</li>
              <li>Imported Packed and Marketed by</li>
            </ng-container>
            <!-- *ngIf="getData.product_source == 'Manufactured'" -->
            <ng-container>
              <li>Manufactured By</li>
            </ng-container>
              <li>KC GOOD SHINE</li>
              <li>KRISHNA CHEMICAL</li>
              <li>Sector 46, Sonipat, Haryana 131029</li>
              <li>Customer Care No:+91-9717143939</li>
              <li>Email- inquiry@goodshine.in</li>
              <li>Web- www.goodshine.in</li>
          </ul>
        </div>
        <div class="cs-barcode">
          <ngx-qrcode 
          [elementType]="elementType" 
          value="{{subRow.coupon_code}}"
          cssClass="aclass"
          errorCorrectionLevel="L">
        </ngx-qrcode>
        <span>{{subRow.coupon_code}}</span> 
      </div>
    </div>
  </div>
  
</div>




</div>
</div>
<div class="fab-btns" *ngIf="qrCode.length > 0">
  <div class="fab-btns" >
    <button class="pulse excel" mat-fab color="primary"  (click)="printData();">
      <i class="material-icons">print</i>
      Print Coupon
    </button>
  </div>
</div>
</div>
</div>

